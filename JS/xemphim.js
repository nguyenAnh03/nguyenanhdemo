var listUrlMovie = [
    {
        id: 'thegioikhunglong', linkmovie: 'YruXzI', tap: 0
    },
    {
        id: 'emvatrinh', linkmovie: 'TQZXY7', tap: 0
    },
    {
        id: 'nguoikhoilua', linkmovie: 'EAuswE', tap: 0
    },
    {
        id: 'satthunhantao', linkmovie: 'Vh1Dlf', tap: 0
    },
    {
        id: 'haokhichienbinh', linkmovie: 'stUgTN', tap: 0
    },
    {
        id: 'nhentrongmang', linkmovie: 'F7jX6L', tap: 0
    },
    {
        id: 'bacsiduong', linkmovie: 'lGPQef', tap: 1
    },
    {
        id: 'nguoidanong', linkmovie: 'vGydZj', tap: 0
    },
    {
        id: 'nguoikenhiemnamsan', linkmovie: 'k99eSM', tap: 0
    },
    {
        id: 'contautitanic', linkmovie: 'jG7wZh', tap: 0
    },
    {
        id: 'kieu', linkmovie: 'jhJucW', tap: 0
    },
    {
        id: 'chimuoiba', linkmovie: 'EeWYeE', tap: 0
    },
    {
        id: 'hoaraemyeuanhratnhieu', linkmovie: 'chj9dl', tap: 1
    },
    {
        id: 'thuyhautu', linkmovie: 'YGQ1JL', tap: 0
    },
    {
        id: 'thuamecondi', linkmovie: 'OSYmN5', tap: 0
    },
    {
        id: 'thienngabongdem', linkmovie: 'pah1eP', tap: 1
    },
    {
        id: 'ghenong', linkmovie: 'VoNOmP', tap: 0
    },
    {
        id: 'tiectrangmau', linkmovie: 'SulcG5', tap: 0
    },
    {
        id: 'matranhoisinh', linkmovie: 'mAOpkd', tap: 0
    },
    {
        id: 'thuyquairunggomun', linkmovie: 'r994x8', tap: 0
    },
    {
        id: 'yeutinh', linkmovie: 'jwA8PK', tap: 0
    }
];
var listUrlsever = [
    { id: 'thegioikhunglong', linkmovie: 'nWvKWX' },
    { id: 'emvatrinh', linkmovie: 'TQZXY7' },
    { id: 'nguoikhoilua', linkmovie: 'TlyUB6' },
    { id: 'satthunhantao', linkmovie: 'IU56DJ' },
    { id: 'haokhichienbinh', linkmovie: 'fOMBfJ' },
    { id: 'nhentrongmang', linkmovie: 'c0v0yc' },
    { id: 'bacsiduong', linkmovie: 'HL04DJ' },
    { id: 'nguoidanong', linkmovie: 'D3zdee' },
    { id: 'nguoikenhiemnamsan', linkmovie: '6pyMIt' },
    { id: 'contautitanic', linkmovie: 'jG7wZh' },
    { id: 'kieu', linkmovie: 'jhJucW' },
    { id: 'chimuoiba', linkmovie: 'DRVYdq' },
    { id: 'hoaraemyeuanhratnhieu', linkmovie: 'chj9dl' },
    { id: 'thuyhautu', linkmovie: 'Cy3v0z' },
    { id: 'thuamecondi', linkmovie: 'Q4lNPp' },
    { id: 'thienngabongdem', linkmovie: 'yo7OlC' },
    { id: 'ghenong', linkmovie: 'VoNOmP' },
    { id: 'tiectrangmau', linkmovie: 'uXLX8T' },
    { id: 'matranhoisinh', linkmovie: 'BRLMer' },
    { id: 'thuyquairunggomun', linkmovie: 'DlxXXv' },
    { id: 'yeutinh', linkmovie: 'bcdoDx' }
];

//Link các tập phim
var listMovieTap = [
    {
        id: 'thienngabongdem',
        tap: [
            'pah1eP', '3UM3Yq', 'nhpw15', 'Gd8BU2', 'N5Lxxe', 'D0sQrn', 'PhnIKv', 'LKrRhN', 'GYlxHK', 'EPsnsd', '4nScjD', 'DQccpP'
        ]
    },
    {
        id: 'bacsiduong',
        tap: [
            'lGPQef', 'Jrvzj9', 'vFEqJi', 'w0vLj7', 'KCz5pl', '6cffqV', 'Y20FqW', 'MkoZFp', 'Wd7B6p', 'VJnzds', 'MxuN1F', 'klIZDD', 'eCjHVG', 'P2m1jX', 'fcesYq', 'Buxic3', 'TR6Qho', 'gOty4N', 'YTVUrv', 'RlbupC', 'UDZx0U', 'sbsxi4', 'KL6KPH', 'cnVT7u', '19HG3L', 'eoFg9y', 'BJwOAw', 'ouyrbC', 'wOa3I8', 'xVDEJ3', 'ZwOLin', 'NMr1I2', 'drrW3O', 'HCiKNO', 'MofLFR', 'ebfrwQ'
        ]
    },
    {
        id: 'hoaraemyeuanhratnhieu',
        tap: [
            'chj9dl', '3yMjkf', 'qTr3XQ', 'Z0ZjPW', 'gOrJMV', 'XA640Y', 'UX2mhc', 'CZADT8', 'iWnMRV', 'kPKtcr', 'rExLh3', 'iDrCi2', 'O5G0z8', 'BNXIgR', '66Rr4m', 'Nev0Xf', 'LH9ykI', '48BzhG', '0Ni0Ck', 'XSVwQi', '6uvwKW', 'j5EW2h', 'zAJHu7', 'nCWWis'
        ]
    }
];
// lưu vào secsionstorage tập 0;
sessionStorage.setItem('tapphim', 0);
var idphim = localStorage.getItem('id-phim');
var indexphim = 0;
for (let i = 0; i < listUrlMovie.length; i++) {
    if (listUrlMovie[i].id == idphim) {
        indexphim = i;
        document.getElementById('video-movie').setAttribute('src', `https://bom.so/${listUrlMovie[indexphim].linkmovie}`);
        break;
    }
}
var changeTap = document.getElementById('changetap');
for (let i = 0; i < listMovieTap.length; i++) {
    if (listUrlMovie[indexphim].tap != 0) {
        if (idphim == listMovieTap[i].id) {
            for (let j = 0; j < listMovieTap[i].tap.length; j++) {
                changeTap.innerHTML += `<div class="border-button-change">
                <button class="tap">Tập ${j + 1}</button>
                <div onclick="changetapphim(${i},${j})" class="xem-tap">Xem</div>
                </div>`;
            }
        }
    } else if (listUrlMovie[indexphim].tap == 0) {
        changeTap.innerHTML = `<div class="border-button-change">
        <button class="one">Full</button>
        <div onclick="fullmovie()" class="xem-tap">Xem</div>
        </div>`;
        sessionStorage.setItem('bophim', i);
        break;
    }
}
document.addEventListener('contextmenu', event => event.preventDefault());
document.getElementById('title-xem-phim').innerText = localStorage.getItem('name-movie');
var listsever = document.getElementsByClassName('sever');
// chạy hàm thay đổi sever
sever1();
sever2();
function sever1() {
    // Đổi sever 
    listsever[0].addEventListener('click', function () {
        document.getElementById('video-movie').setAttribute('src', `https://bom.so/${listUrlsever[indexphim].linkmovie}`);
        setTimeout(() => {
            location = '#video-movie'
        }, 100);
    });
}
function sever2() {
    // Đổi sever 
    listsever[1].addEventListener('click', function () {
        document.getElementById('video-movie').setAttribute('src', `https://bom.so/${listUrlMovie[indexphim].linkmovie}`);
        setTimeout(() => {
            location = '#video-movie'
        }, 100);
    });
}
//Thay đổi tập phim
function changetapphim(i, j) {
    // chuyển đến để xem phim nếu bấm trùng tập đang xem
    if (sessionStorage.getItem('bophim') == i && sessionStorage.getItem('tapphim') == j) {
        location = '#video-movie';
        return;
    }
    // Nếu khác tập đang xem thì đổi tập khác
    document.getElementById('video-movie').setAttribute('src', `https://bom.so/${listMovieTap[i].tap[j]}`);
    sessionStorage.setItem('bophim', i);
    sessionStorage.setItem('tapphim', j);
    location = '#video-movie';
}
// chuyển đến để xem phim
function fullmovie() {
    location = '#video-movie';
}
var checknenden = true;
var video = document.getElementById('movie-movie');
var changeSever = document.getElementsByClassName('change-sever')[0];
var onofff = document.getElementById('off-on');
var lighT = document.getElementById('light');
function tatden(params) {
    var nenden = document.getElementById('tatden');
    if (checknenden) {
        nenden.style.width = '100vw';
        nenden.style.height = '100vh';
        nenden.style.position = 'fixed';
        nenden.style.top = '0px';
        nenden.style.zIndex = '3';
        video.style.zIndex = '10';
        changeSever.style.zIndex = '10';
        lighT.style.color = 'yellow';
        location = '#movie-movie'
        onofff.innerText = ' Bật đèn'
        checknenden = !checknenden;
    } else {
        nenden.style.width = '0px';
        nenden.style.height = '0px';
        video.style.zIndex = '1';
        changeSever.style.zIndex = '1';
        lighT.style.color = 'white';
        onofff.innerText = ' Tắt đèn'
        location = '#movie-movie'
        checknenden = !checknenden;
    }
}